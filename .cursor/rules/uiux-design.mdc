---
description: "UI/UX设计规范 - 简洁舒适优雅大方的设计系统"
globs: "src/**/*.vue,src/**/*.scss,src/styles/**"
---

# UI/UX 设计规范

> 基于 Apple + 微信设计理念的统一设计语言，遵循行业标准，保持简洁、舒适、优雅、大方

## 设计理念

本项目采用**简洁舒适、优雅大方**的设计风格，结合 **Apple** 和 **微信** 的设计理念，打造现代、实用、易用的用户界面。

**核心设计原则**：
- ✨ **简洁优雅**：去除不必要的装饰，突出核心内容
- 🎯 **舒适易用**：符合用户心理模型，降低学习成本
- 💡 **直观清晰**：信息层级分明，视觉引导明确
- 🎨 **优雅大方**：细节精致，整体协调统一
- 🔄 **一致性**：统一的设计语言贯穿整个应用
- 🎪 **克制平衡**：留白优于填满，删减优于添加

---

## 一、设计令牌（Design Tokens）

### 1.1 颜色系统

#### 主题色彩
- **主题色**：`var(--theme)` = `#07C160`（微信绿）
- **主题浅色**：`var(--theme-light)` = `rgba(7, 193, 96, 0.1)`
- **主题深色**：`var(--theme-dark)` = `#06a050`

#### 语义色彩
- **成功**：`var(--success)` = `#07C160`
- **警告**：`var(--warning)` = `#ff9500`
- **危险**：`var(--danger)` = `#ff4d4f`
- **信息**：`var(--info)` = `#007aff`
- **链接**：`var(--link)` = `#007aff`

#### 功能色彩
- **蓝色**：`var(--blue)` = `#007aff`
- **黄色**：`var(--yellow)` = `#ffbb00`
- **红色**：`var(--red)` = `#ff4d4f`
- **绿色**：`var(--green)` = `#07C160`
- **橙色**：`var(--orange)` = `#ff9500`

#### 中性色阶
- **极黑**：`var(--black)` = `#333333`
- **纯白**：`var(--white)` = `#ffffff`
- **灰度 100-900**：`var(--gray-100)` ~ `var(--gray-900)`
  - `--gray-100`: `#f8f9fa` 最浅
  - `--gray-200`: `#e9ecef`
  - `--gray-300`: `#dee2e6`
  - `--gray-400`: `#ced4da`
  - `--gray-500`: `#adb5bd` 中等
  - `--gray-600`: `#6c757d`
  - `--gray-700`: `#495057`
  - `--gray-800`: `#343a40`
  - `--gray-900`: `#212529` 最深

#### 背景色系统
- **主背景**：`var(--bg-primary)` = `#ffffff`
- **次背景**：`var(--bg-secondary)` = `#f8f8f8`
- **三级背景**：`var(--bg-tertiary)` = `#f1f1f1`
- **卡片背景**：`var(--card-bg)` = `#ffffff`
- **遮罩层**：`var(--bg-overlay)` = `rgba(0, 0, 0, 0.4)`

#### 文本颜色系统
- **主文本**：`var(--text-primary)` = `#333333`
- **次文本**：`var(--text-secondary)` = `#666666`
- **辅助文本**：`var(--text-tertiary)` = `#999999`
- **禁用文本**：`var(--text-disabled)` = `#cccccc`
- **反色文本**：`var(--text-inverse)` = `#ffffff`

#### 边框色系统
- **浅边框**：`var(--border-light)` = `#e0e0e0`
- **中边框**：`var(--border-medium)` = `#d0d0d0`
- **深边框**：`var(--border-dark)` = `#c0c0c0`
- **分割线**：`var(--divider)` = `#e5e5e5`

#### 颜色使用规范
- **主色**：用于主要按钮、链接、选中状态、品牌标识
- **辅助色**：用于状态提示（成功/警告/错误/信息）
- **中性色**：用于文字、边框、分隔线、背景
- **背景色**：使用纯色背景，避免透明和模糊效果
- **禁止硬编码**：所有颜色必须使用 CSS 变量

### 1.2 字体系统

#### 字体族（优先使用系统字体）
```scss
$font-family-base: -apple-system, BlinkMacSystemFont, "Segoe UI", 
                   "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", 
                   "Helvetica Neue", Helvetica, Arial, sans-serif;
```

#### 字号标准（基于 8px 网格）
| 类名 | 变量 | 尺寸 | 用途 |
|------|------|------|------|
| `.text-xs` | `--text-xs` / `--font-xs` | 12px | 辅助说明、标签 |
| `.text-sm` | `--text-sm` / `--font-sm` | 14px | 次要信息 |
| `.text-base` | `--text-base` / `--font-md` | 16px | 正文默认 |
| `.text-lg` | `--text-lg` / `--font-lg` | 18px | 小标题 |
| `.text-xl` | `--text-xl` / `--font-xl` | 20px | 大标题 |
| `.text-2xl` | `--text-2xl` | 24px | 标题 |
| `.text-3xl` | `--text-3xl` | 30px | 大标题 |
| `.text-4xl` | `--text-4xl` | 36px | 超大标题 |

#### 字重与行高
- **字重**：常规 400，中等 500，粗体 600-700
- **行高**：正文 1.5-1.6，标题 1.2-1.4
- **字间距**：正常 0，标题可适当增加（0.05em）

#### 排版层级
| 类型 | 字体大小 | 字重 | 行高 | 用途 |
|------|----------|------|------|------|
| **超大标题** | 36px | 700 | 1.2 | 页面主标题 |
| **大标题** | 30px | 700 | 1.2 | 区块标题 |
| **标题** | 24px | 600 | 1.3 | 卡片标题 |
| **小标题** | 20px | 600 | 1.4 | 分组标题 |
| **强调文本** | 18px | 500 | 1.5 | 重要信息 |
| **正文** | 16px | 400 | 1.6 | 主要内容 |
| **次要文本** | 14px | 400 | 1.5 | 辅助信息 |
| **辅助信息** | 12px | 400 | 1.4 | 说明文字 |

### 1.3 间距系统（基于 4px 网格）

| 变量 | 尺寸 | 用途 |
|------|------|------|
| `--spacing-xs` | 4px | 极小间距、紧密元素 |
| `--spacing-sm` | 8px | 小间距、图标与文字 |
| `--spacing-md` | 12px | 较小间距、列表项内部 |
| `--spacing-lg` | 16px | 标准间距、卡片内边距 |
| `--spacing-xl` | 20px | 大间距、页面内边距 |
| `--spacing-2xl` | 24px | 特大间距、区块间隔 |
| `--spacing-3xl` | 32px | 超大间距、章节分隔 |
| `--spacing-4xl` | 40px | 巨大间距、空状态留白 |
| `--spacing-5xl` | 48px | 特大间距、大区块分隔 |

**使用原则**：
- 页面内边距：16-20px（紧凑场景 12px）
- 卡片间距：16-24px
- 组内元素：8-12px
- 组间间隔：24-32px
- 保持一致性，同类元素使用相同间距

### 1.4 圆角系统

| 变量 | 尺寸 | 适用场景 |
|------|------|----------|
| `--radius-sm` | 4px | 小按钮、标签、徽章 |
| `--radius-md` | 6px | 输入框、普通按钮 |
| `--radius-lg` | 8px | 卡片、图片、面板 |
| `--radius-xl` | 12px | 大卡片、弹窗 |
| `--radius-2xl` | 16px | 超大容器 |
| `--radius-full` | 9999px | 完全圆形（头像、徽章）|

**使用原则**：
- 保持一致性，同类元素使用相同圆角
- 避免过大圆角（> 20px）影响专业感
- 可通过圆角区分层级（内层小，外层大）

### 1.5 阴影系统（基于 Material Design）

| 变量 | 值 | 用途 |
|------|------|------|
| `--shadow-sm` | `0 1px 2px rgba(0,0,0,0.05)` | 轻微阴影、悬浮提示 |
| `--shadow-md` | `0 2px 8px rgba(0,0,0,0.1)` | 卡片、弹出层 |
| `--shadow-lg` | `0 4px 16px rgba(0,0,0,0.12)` | Modal、大型弹窗 |
| `--shadow-xl` | `0 8px 24px rgba(0,0,0,0.15)` | 特殊强调元素 |

**使用原则**：
- 仅用于表达层级关系，避免装饰性阴影
- 移动端适度使用，减少性能开销
- 暗色模式下适当降低透明度
- 避免过度阴影，保持简洁

### 1.6 过渡动画

| 变量 | 时长 | 缓动函数 | 用途 |
|------|------|----------|------|
| `--transition-fast` | 0.15s | ease | 按钮反馈、小元素 |
| `--transition-base` | 0.2s | ease | 标准过渡、颜色变化 |
| `--transition-normal` | 0.3s | ease | 常规过渡、Tab 切换 |
| `--transition-slow` | 0.5s | ease | 页面切换、展开/收起 |

**缓动函数选择**：
- `ease`：通用场景
- `ease-out`：元素进入（快入慢出）
- `ease-in`：元素退出（慢入快出）
- `ease-in-out`：平滑过渡

### 1.7 Z-Index 层级管理

使用 CSS 变量管理层级，禁止硬编码：`z-index: var(--z-index-modal)`

常用层级：
- `--z-index-base`: 0
- `--z-index-dropdown`: 1000
- `--z-index-sticky`: 1020
- `--z-index-fixed`: 1030
- `--z-index-modal-backdrop`: 1040
- `--z-index-modal`: 1050
- `--z-index-popover`: 1060
- `--z-index-tooltip`: 1070

---

## 二、设计原则（参考 Apple & 微信）

### 2.1 Apple 设计原则

#### 简洁性（Simplicity）
- 去除冗余元素，突出核心功能
- 使用空白空间创造呼吸感
- 避免过度装饰

#### 一致性（Consistency）
- 统一的视觉语言和交互模式
- 相同功能使用相同的视觉表现
- 保持品牌识别度

#### 直接操作（Direct Manipulation）
- 操作结果即时反馈
- 手势操作符合直觉
- 减少中间步骤

#### 反馈（Feedback）
- 所有操作都有明确反馈
- 使用动画传达状态变化
- 错误提示清晰友好

### 2.2 微信设计原则

#### 用完即走
- 减少不必要的功能入口
- 聚焦核心任务
- 流程简洁高效

#### 用户友好
- 降低操作门槛
- 文字说明清晰易懂
- 减少用户思考成本

#### 功能优先
- 实用性大于装饰性
- 信息层级清晰
- 内容为王

---


## 四、交互原则

### 4.1 反馈机制

#### 按压反馈
```scss
.pressable {
  transition: all var(--transition-fast);
  cursor: pointer;
  
  &:active {
    transform: scale(0.98);
    opacity: 0.9;
  }
}
```

#### 悬停反馈
```scss
.hoverable {
  transition: all var(--transition-base);
  
  &:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
  }
}
```

#### 操作反馈
- **成功操作**：使用 Toast 提示（绿色图标）
- **加载中**：使用 Loading 指示器
- **危险操作**：使用 Modal 确认对话框
- **错误提示**：使用红色文字或图标提示

### 4.2 动效原则

- **时长**：200-300ms 为佳，不超过 500ms
- **缓动**：优先使用 `ease-out`（进入）和 `ease-in`（退出）
- **性能**：使用 `transform` 和 `opacity`，避免 `width`/`height` 动画
- **克制**：避免过度动效，保持简洁流畅

### 4.3 手势交互

- **点击**：按钮、卡片、列表项
- **长按**：显示操作菜单（1s 触发）
- **滑动**：列表滚动、页面切换
- **拖拽**：元素排序、调整大小

---

## 五、响应式设计

### 5.1 断点规范

```scss
// 断点（参考 Tailwind）
$breakpoint-sm: 640px;   // 小屏（手机横屏）
$breakpoint-md: 768px;   // 中屏（平板竖屏）
$breakpoint-lg: 1024px;  // 大屏（平板横屏、小笔记本）
$breakpoint-xl: 1280px;  // 超大屏（桌面）
$breakpoint-2xl: 1536px; // 2K屏
```

### 5.2 适配策略

- **移动优先**：从小屏幕开始设计
- **弹性布局**：使用 Flexbox 和 Grid
- **相对单位**：优先使用 `rem`、`em`、`%`、`vw/vh`
- **图片适配**：响应式图片，支持不同分辨率

---

## 六、可访问性（A11y）

### 6.1 基本要求

- **键盘导航**：所有交互元素支持键盘操作
- **焦点指示**：清晰的焦点样式（`:focus-visible`）
- **颜色对比度**：符合 WCAG AA 标准
  - 正文文字：对比度 ≥ 4.5:1
  - 大文字（18px+）：对比度 ≥ 3:1
  - 图标/UI 元素：对比度 ≥ 3:1
- **语义化HTML**：正确使用 HTML5 语义标签

### 6.2 触摸目标

- **最小尺寸**：44px × 44px（iOS 人机界面指南）
- **间距**：相邻可点击元素间距 ≥ 8px

### 6.3 文本可读性

- **最小字号**：12px（特殊场景，正文不小于 14px）
- **行高**：正文 1.5-1.6
- **段落宽度**：不超过 75 个字符（中文约 35 字）

### 6.4 无障碍属性

```vue
<!-- 示例：为交互元素添加无障碍属性 -->
<button
  aria-label="关闭对话框"
  aria-describedby="dialog-description"
>
  <span aria-hidden="true">×</span>
</button>
```

---

## 七、暗色模式支持

### 7.1 实现方式

```scss
// 使用 CSS 变量和媒体查询
:root {
  --bg-primary: #ffffff;
  --text-primary: #333333;
  --border-light: #e0e0e0;
}

@media (prefers-color-scheme: dark) {
  :root {
    --bg-primary: #1a1a1a;
    --text-primary: #ffffff;
    --border-light: #333333;
  }
}

// 或使用类切换
[data-theme='dark'],
.dark {
  --bg-primary: #1a1a1a;
  --text-primary: #ffffff;
  --border-light: #333333;
}
```

### 7.2 暗色模式调整

- 降低背景亮度，提高文字对比度
- 调整边框颜色，保持可见性
- 优化阴影效果，避免过于突兀
- 保持品牌色一致性

---

## 八、性能优化

### 8.1 样式优化

- **避免过度嵌套**：选择器层级不超过 3 层
- **使用 CSS 变量**：减少重复代码
- **合理使用工具类**：优先使用 Tailwind CSS
- **清理未使用样式**：定期检查并删除无用样式

### 8.2 动画优化

```scss
// 使用 will-change 提示浏览器优化
.animated-element {
  will-change: transform, opacity;
  
  &.is-animating {
    // 动画进行中
  }
  
  // 动画结束后移除
  &:not(.is-animating) {
    will-change: auto;
  }
}
```

### 8.3 图片优化

- 使用适当的图片格式（WebP、AVIF）
- 响应式图片，支持不同分辨率
- 懒加载非关键图片
- 压缩图片大小

---

## 九、实施检查清单

在设计新页面或组件时，请检查以下事项：

### 视觉设计
- [ ] 颜色使用 CSS 变量（`var(--theme)`、`var(--spacing-lg)`）
- [ ] 间距符合 4px 网格系统
- [ ] 圆角统一规范
- [ ] 阴影效果合理（避免过度）
- [ ] 字体大小在标准范围内
- [ ] 留白充足，信息层级清晰

### 交互设计
- [ ] 所有交互元素有明确的反馈
- [ ] 动画时长和缓动函数符合规范
- [ ] 支持键盘导航
- [ ] 焦点状态清晰可见
- [ ] 触摸目标尺寸 ≥ 44px

### 响应式
- [ ] 在不同屏幕尺寸下测试
- [ ] 移动端体验良好
- [ ] 使用弹性布局

### 可访问性
- [ ] 文字对比度符合标准
- [ ] 语义化 HTML
- [ ] 无障碍属性完善
- [ ] 支持暗色模式

### 性能
- [ ] 动画流畅（60fps）
- [ ] 样式代码简洁高效
- [ ] 图片优化加载

---

## 十、最佳实践

### ✅ 推荐做法

- 使用 CSS 变量：`var(--theme)`、`var(--spacing-lg)`
- 卡片化布局，统一间距/圆角
- 留白充足，信息层级清晰（不超过 3 级）
- 优先使用 Flexbox 布局
- 触摸目标尺寸 ≥ 44px
- 使用纯色背景，避免透明和模糊效果
- 保持简洁，避免过度装饰

### ❌ 严格禁止

- 硬编码颜色值：`color: #07C160` → 应使用 `color: var(--theme)`
- 硬编码尺寸值：`margin: 20px` → 应使用 `margin: var(--spacing-xl)`
- 使用液态玻璃效果（`backdrop-filter: blur()`）
- 大面积高饱和色（影响可读性）
- 过重阴影（`box-shadow: 0 10px 50px rgba(0,0,0,0.5)`）
- 混用多种字号（> 5 种）
- 过度装饰、复杂动效
- 选择器层级过深（> 3 层）

---

## 十一、参考资源

- [Apple Human Interface Guidelines](https://developer.apple.com/design/human-interface-guidelines/)
- [Material Design 3](https://m3.material.io/)
- [Web Content Accessibility Guidelines (WCAG)](https://www.w3.org/WAI/WCAG21/quickref/)
- [微信设计指南](https://weui.io/)

---

## 注意事项

1. **保持简洁**：设计服务于功能，避免过度设计
2. **一致性**：同一功能在不同页面使用相同的视觉表现
3. **以用户为中心**：功能实用，体验流畅
4. **性能优先**：避免影响性能的视觉效果
5. **持续优化**：根据用户反馈和使用数据持续优化设计
6. **设计令牌**：所有设计值都应通过 CSS 变量定义，禁止硬编码
